{"version":3,"sources":["webpack:///webpack/bootstrap 64009f6a58d9b52343de","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///./src/app/middlewares/Auth.js","webpack:///./src/app/models/User.js","webpack:///external \"lodash\"","webpack:///./src/app/middlewares/Token.js","webpack:///./src/index.js","webpack:///./src/globals/index.js","webpack:///./src/globals/modules.js","webpack:///external \"shery-logger\"","webpack:///external \"mongoose\"","webpack:///external \"mongoose-timestamp\"","webpack:///external \"async\"","webpack:///external \"validator\"","webpack:///external \"morgan\"","webpack:///external \"body-parser\"","webpack:///external \"path\"","webpack:///external \"bcrypt\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"express\"","webpack:///external \"dotenv\"","webpack:///./src/globals/vars.js","webpack:///./src/config/env.js","webpack:///./src/config/project.js","webpack:///./src/config/database.js","webpack:///./src/app/routes/index.js","webpack:///./src/app/routes/users.js","webpack:///external \"regenerator-runtime\"","webpack:///./src/app/models/sensitive/Hash.js","webpack:///./src/app/controllers/UsersController.js","webpack:///./src/app/routes/switches.js","webpack:///./src/app/controllers/SwitchesController.js","webpack:///./src/app/models/Switch.js","webpack:///./src/app/routes/devices.js","webpack:///./src/app/controllers/DeviceController.js","webpack:///./src/app/models/Device.js","webpack:///./src/app/routes/locations.js","webpack:///./src/app/controllers/LocationController.js","webpack:///./src/app/models/Location.js","webpack:///./src/app/routes/netNodes.js","webpack:///./src/app/controllers/netNodeController.js","webpack:///./src/app/models/NetNode.js","webpack:///./src/app/routes/vlans.js","webpack:///./src/app/controllers/vlanController.js","webpack:///./src/app/models/Vlan.js","webpack:///./src/app/routes/deviceTypes.js","webpack:///./src/app/controllers/DeviceTypeController.js","webpack:///./src/app/models/DeviceType.js","webpack:///./src/app/middlewares/CORS.js","webpack:///./src/app/middlewares/ExpressPlugins.js","webpack:///./src/app/middlewares/isValid.js"],"names":["TOKENKEY","req","res","next","headers","api_token","validSend","verify","verified","error","_","mapKeys","value","key","auth","userSchema","mongoose","Schema","fName","type","String","lName","username","required","plugin","mongooseTimestamp","virtual","set","password","Hash","update","user","_id","hash","upsert","statics","authorize","Promise","resolve","reject","findOne","savedHash","bcrypt","compare","match","model","config","basedCollection","useridKey","validationConfig","valid","userid","docid","validation","jwt","sign","process","env","JWT_SECRET","schema","doc","token","authenticationInfo","User","findById","result","projectMode","console","activeLevel","intro","Name","Project","Description","Notes","Mode","app","express","use","bodyParser","json","routes","post","message","static","path","join","__dirname","err","Error","status","port","API_PORT","listen","info","Number","name","global","globals","sherylogger","require","async","validator","logger","dotenv","dotenvPath","argv","forEach","val","index","array","DevProjectInfoKeys","omit","DB_USERNAME","DB_PASSWORD","DB_HOST","DB_PORT","DB_NAME","mongoOptions","useMongoClient","loginInfo","authSource","DB_AUTHSOURCE","uri","connect","db","connection","on","bind","once","log","Router","getUpdate","$set","doHash","hashSchema","SchemaTypes","ObjectId","ref","pre","register","validate","body","newUser","save","savedUser","tokenize","registered","JSON","stringify","login","authenticated","me","newSwitch","ip","description","diagramUrl","location","sw","savedSW","switch","allSwitches","Switch","find","populate","select","swList","data","map","push","n","finalResult","columns","switchesData","switches","allSwitchesNames","lean","switchSchema","newDevice","deviceType","vlan","managementUrl","channel","dev","savedDevice","device","allDevices","Device","devList","devices","allDevicesNames","deviceSchema","newLocation","loc","savedLocation","allLocations","Location","locList","locations","allLocationsNames","locationSchema","newNetNode","patchPanelPort","cableNumber","switchId","switchPort","nNode","netNode","allNetNodes","NetNode","netNodes","plain","netNodesData","netNodeSchema","newVlan","number","firstIp","lastIp","subnetMask","virtualLan","VLAN","allVlans","vlans","allVlansNames","vlanSchema","newDeviceType","savedDeviceType","allDeviceTypes","DeviceType","typeList","types","allDeviceTypesNames","deviceTypes","deviceTypeSchema","CORS","header","validators","isValid","findKeys","object","keys","foundKeys","notFoundKeys","objectValue","objectKey","pop","deepOmit","_doc","mapper","Object","o","length","level","v","k","okey","newObject","e","requiredKeys","forbiddenKeys","missedKeys","notAllowedKeys","omitKeys","isJSON","defaultOmitKeys","ok"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 64009f6a58d9b52343de","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 0\n// module chunks = 0","/**\r\n *          .::AUTHENTICATION::.\r\n * Authentication operations belong here.\r\n * \r\n */\r\nimport User from '../models/User';\r\nimport {\r\n\tverify\r\n} from './Token';\r\n//The KEY that has token\r\nconst TOKENKEY=\"x-access-token\"\r\n\r\n//API AUTHENTICATION\r\nexport default async function auth(req, res, next) {\r\n\t//Getting Token\r\n\tif (req.headers[TOKENKEY]) var api_token = req.headers[TOKENKEY];\r\n\t//TOKENNOTFOUND Handling\r\n\tif (!api_token) return res.validSend(401, \"The following keys are required in request header: \\n \"+TOKENKEY+\"\\n\")\r\n\t//Verifying token\r\n\tvar verified = await verify(api_token);\r\n\t//Verifying token error handling\r\n\tif (verified.error) return res.validSend(401, verified);\r\n\t//Adding verified user information to request object.\r\n\t_.mapKeys(verified, (value, key) => {\r\n\t\treturn req[key] = value;\r\n\t});\r\n\r\n\tnext();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/middlewares/Auth.js","/**\r\n *          .::USER MODEL::.\r\n * User Mongoose model\r\n * \r\n */\r\nimport Hash from './sensitive/Hash';\r\n\r\n\r\nvar userSchema = mongoose.Schema({\r\n\r\n\tfName: {\r\n\t\ttype: String,\r\n\t\t\r\n\t},lName: {\r\n\t\ttype: String,\r\n\t\t\r\n\t},username: {\r\n\t\ttype: String,\r\n\t\trequired: true\r\n\t},\r\n});\r\n\r\nuserSchema.plugin(mongooseTimestamp);\r\n//UPDATING HASH WHEN PASSWORD IS CHANGED\r\nuserSchema.virtual('password').set(async function(password){\r\n\treturn await Hash.update({user:this._id},{user:this._id,hash:password},{upsert:true});\r\n})\r\n\r\n//AUTHORIZE USER\r\nuserSchema.statics.authorize= function(user){\r\n\treturn new Promise(async function(resolve,reject){\r\n\t\ttry{\r\n\t\t\t//FINDING HASH\r\n\t\t\tvar savedHash=await Hash.findOne({user:user._id});\r\n\t\t\tif(!savedHash) return reject(\"hash was not found\");\r\n\r\n\t\t\t//COMPARING PASSWORD AND HASH\r\n\t\t\tvar match=await bcrypt.compare(user.password,savedHash.hash);\r\n\t\t\tif(match) return resolve(true);\r\n\t\t\treturn resolve(false);\r\n\t\t}catch(e){\r\n\t\t\treturn reject(e);\r\n\t\t}\r\n\r\n\t})\r\n}\r\n\r\n\r\n\r\nexport default mongoose.model('User', userSchema);\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/User.js","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 3\n// module chunks = 0","/**\r\n *          .::TOKENIZATION::.\r\n * Generating, Verifying and all related operations to Token are here.\r\n * \r\n */\r\nimport User from '../models/User';\r\n\r\n//TOKEN CONFIGURATION\r\n/**\r\n *  basedCollection: Name of the schema that token is generating from it.\r\n *  useridKey: Name of the field that userid is stored there in the told collection\r\n * \r\n * Example: {\r\n *      collection: 'Device',\r\n *      useridKey: 'userid'\r\n *  } \r\n * This example generates token based on user's Device.\r\n */\r\nlet config = {\r\n    basedCollection: 'User',\r\n    useridKey: '_id'\r\n}\r\n\r\nlet validationConfig = () => {\r\n    if (!config) return {\r\n        valid: false,\r\n        error: \"config is not defined\"\r\n    }\r\n    if (!config.basedCollection) return {\r\n        valid: false,\r\n        error: \"collection name is not defined\"\r\n    }\r\n    if (!config.useridKey) return {\r\n        valid: false,\r\n        error: \"userid key is not defined\"\r\n    }\r\n    return {\r\n        valid: true\r\n    }\r\n\r\n}\r\n//GENERATING TOKEN\r\n/**\r\n *  @param {string} userid User unique identifier\r\n *  @param {string} docid Optional- Unique Identifier of basedCollection's document that is related to user. If it's null, this function will find it in database automatically. \r\n */\r\nexport default async(userid, docid) => {\r\n    //CHECKING TOKENIZATION CONFIG\r\n    var validation = validationConfig();\r\n    if (!validation.valid) return {\r\n        error: validation.error\r\n    };\r\n    var {\r\n        basedCollection,\r\n        useridKey\r\n    } = config;\r\n    //IF BASEDCOLLECTION IS USER, USERID AND _ID SHOULD BE SAME.\r\n    if (basedCollection == 'User') return await jwt.sign({\r\n        userid,\r\n        basedCollection,\r\n        _id: userid\r\n    },process.env.JWT_SECRET);\r\n    let schema = mongoose.model(basedCollection);\r\n    //IF DOCID IS NOT DEFINED, FIND IT IN BASEDCOLLECTION\r\n    if (!docid) {\r\n        let doc = await schema.findOne({\r\n            [useridKey]: userid\r\n        });\r\n        if (!doc) return {\r\n            error: \"No \" + basedCollection + \"'s document with passed \" + useridKey + \" was found.\"\r\n        }\r\n        docid=doc._id;\r\n    }\r\n    //GENERATING TOKEN\r\n    return await jwt.sign({\r\n        userid,\r\n        basedCollection,\r\n        docid\r\n    },process.env.JWT_SECRET);\r\n\r\n}\r\n//VERIFYING TOKEN\r\nexport let verify=async(token)=>{\r\n    try{\r\n        //VERIFYING\r\n        var authenticationInfo=await jwt.verify(token,process.env.JWT_SECRET);\r\n        var {basedCollection,userid,docid} =authenticationInfo;\r\n        //FINDING USER OBJECT\r\n        var user=await User.findById(userid);\r\n        var result={user};\r\n\r\n        if(basedCollection!='User'){\r\n         //FINDING BASEDCOLLECTION DOCUMENT\r\n        var schema=mongoose.model(basedCollection);\r\n        var doc=await schema.findById(docid);\r\n        result[basedCollection]=doc;\r\n        }\r\n        //RETURNING FOUND OBJECTS\r\n        return result\r\n        \r\n    }catch(e){\r\n        //INVALID TOKEN\r\n        return {error:\"Token is not valid.\"}\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/middlewares/Token.js","/**\r\n *          .::MAIN FILE::.\r\n * \r\n * \r\n */\r\nimport vars from \"./globals\";\r\nimport './config/env';\r\n\r\nimport Project from './config/project';\r\nif (process.env.projectMode == \"Production\") {\r\n  //Don't print logs in production mode\r\n  console.config({\r\n    activeLevel: 2\r\n  })\r\n}\r\n//STARTUP\r\nconsole.intro({\r\n  Name: Project.Name,\r\n  Description: Project.Description,\r\n  Notes: Project.Notes,\r\n  Mode: process.env.projectMode\r\n});\r\n\r\nimport './config/database';\r\nimport routes from './app/routes';\r\nimport CORS from './app/middlewares/CORS';\r\nimport ExpressPlugins from './app/middlewares/ExpressPlugins';\r\n\r\nconst app = express();\r\n\r\n\r\n// Middlewares\r\napp.use(bodyParser.json());\r\napp.use(CORS);\r\napp.use(ExpressPlugins);\r\n\r\n// Routes\r\nroutes.post('/', (req, res) => res.json({\r\n  message: Project.Name+ ' API'\r\n}));\r\napp.use('/api', routes);\r\napp.use(express.static(path.join(__dirname, '../public')));\r\n\r\napp.use(function (req, res, next) {\r\n  var err = new Error('Not Found');\r\n  err.status = 404;\r\n  next(err);\r\n});\r\napp.use((err,req,res,next)=>{\r\n  if(!err) return res.validSend(201,{});\r\n  if(!err.status)err.status=500;\r\n  return res.status(err.status).json({error:err.message})\r\n})\r\n\r\nconst port = process.env.API_PORT || 5000;\r\n\r\n\r\napp.listen(port, (err) => {\r\n  if (err) {\r\n    console.error(err)\r\n  }\r\n\r\n  console.info(`listening on port`, Number(port))\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\r\n *          .::GLOBALS::.\r\n * ALL DATA THAT SHOULD BE AVAILABLE EVERYWHERE\r\n * \r\n */\r\nimport _ from 'lodash';\r\nimport modules from './modules';\r\n_.mapKeys(modules, (value, name) => {\r\n    global[name] = value;\r\n})\r\n\r\nimport vars from './vars';\r\nglobal.globals = vars;\n\n\n// WEBPACK FOOTER //\n// ./src/globals/index.js","/**\r\n *          .::GLOBAL MODULES::.\r\n * Require any module here and it will be available everywhere\r\n * \r\n */\r\nexport default {\r\n    //Sherytech modules\r\n    sherylogger:require('shery-logger'),\r\n    \r\n    //Data storing modules\r\n    mongoose: require('mongoose'),\r\n    mongooseTimestamp:require('mongoose-timestamp'),\r\n    \r\n    //Tool modules\r\n    _: require('lodash'),\r\n    async: require('async'),\r\n    validator: require('validator'),\r\n    logger: require('morgan'),\r\n    bodyParser: require('body-parser'),\r\n    path:require('path'),\r\n\r\n    //Encryption modules\r\n    bcrypt:require('bcrypt'),\r\n    jwt:require('jsonwebtoken'),\r\n    \r\n    //Server handling modules\r\n    express: require('express'),\r\n\r\n    //Configuration modules\r\n    dotenv:require('dotenv'),\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/globals/modules.js","module.exports = require(\"shery-logger\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"shery-logger\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"mongoose-timestamp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose-timestamp\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"async\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"async\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"validator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"validator\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 20\n// module chunks = 0","/**\r\n *          .::GLOBAL VARIABLES::. \r\n * \r\n */\r\nexport default {\r\n    //Add global variables here\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/globals/vars.js","/**\r\n *          .::ENVIRONMENT PARSING::.\r\n * Parsing .env files and defining Project mode(Development, Production)\r\n * \r\n */\r\nlet dotenvPath = \"../../.dev.env\"\r\nlet projectMode = \"Development\"\r\nprocess\r\n  .argv\r\n  .forEach((val, index, array) => {\r\n    switch (val) {\r\n      case \"--production\":\r\n        projectMode = \"Production\"\r\n        return dotenvPath = '../../.env';\r\n        break;\r\n\r\n      //Add more commands here\r\n      default:\r\n    }\r\n  });\r\n\r\ndotenv.config({\r\n  path: path.resolve(__dirname, dotenvPath),\r\n});\r\nprocess.env.projectMode=projectMode;\n\n\n// WEBPACK FOOTER //\n// ./src/config/env.js","/**\r\n *          .::PROJECT CONFIGURATION::.\r\n * Project configuration and all project's information are defined here.\r\n * \r\n */\r\nlet Project = {\r\n\r\n    Name: \"mdc Project\",\r\n    Description: \"Project Description\",\r\n    Notes: [\"Some Notes to think\", \"List of works to do\", ]\r\n\r\n}\r\nlet DevProjectInfoKeys = [\r\n    \"Notes\",\r\n    //Add Key names that shouldn't appear in production mode\r\n]\r\nif (process.env.projectMode == \"Production\") {\r\n    Project = _.omit(Project, DevProjectInfoKeys)\r\n}\r\nexport default Project;\n\n\n// WEBPACK FOOTER //\n// ./src/config/project.js","/**\r\n *          .::DATABASE CONFIGURATION::.\r\n * Connecting to Mongo Server and Database Configuration\r\n * \r\n */\r\nmongoose.Promise = global.Promise;\r\n\r\nconst {\r\n\tDB_USERNAME,\r\n\tDB_PASSWORD,\r\n\tDB_HOST,\r\n\tDB_PORT,\r\n\tDB_NAME\r\n} = process.env;\r\n\r\nconst mongoOptions = {\r\n\tuseMongoClient: true,\r\n};\r\n\r\n//GENERATING MONGODB URI\r\nvar loginInfo = \"\";\r\nvar authSource = \"\";\r\nif (DB_USERNAME) {\r\n\tloginInfo = DB_USERNAME + \":\" + DB_PASSWORD + \"@\";\r\n\tauthSource = \"?authSource=\" + DB_AUTHSOURCE;\r\n}\r\nvar uri = \"mongodb://\" + loginInfo + DB_HOST + \":\" + DB_PORT + \"/\" + DB_NAME + authSource;\r\n\r\n//CONNECTING TO MONGODB SERVER\r\nmongoose.connect(uri, mongoOptions);\r\nconst db = mongoose.connection;\r\n\r\n//LOGS\r\ndb.on('error', console.error.bind(console, 'MongoDB connection error:'));\r\ndb.once('open', () => console.log('Connected to mongo server.'));\n\n\n// WEBPACK FOOTER //\n// ./src/config/database.js","/**\n *          .::ROUTES::.\n * All routes are imported here.\n * \n */\nconst routes = express.Router();\nimport users from './users';\nimport switches from './switches';\nimport devices from './devices';\nimport locations from './locations';\nimport netNodes from './netNodes';\nimport vlans from './vlans';\nimport deviceTypes from './deviceTypes';\n\n//USING ROUTES\nroutes.use('/users', users);\nroutes.use('/switches', switches);\nroutes.use('/devices',devices);\nroutes.use('/locations',locations);\nroutes.use('/netnodes',netNodes);\nroutes.use('/vlans',vlans);\nroutes.use('/devicetypes',deviceTypes);\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes/index.js","/**\r\n *          .::USER ROUTES::.\r\n * All User's apis are routed here.\r\n * \r\n */\r\nconst routes = express.Router();\r\n\r\nimport Auth from '../middlewares/Auth';\r\nimport {\r\n\tregister,\r\n\tlogin,\r\n\tme\r\n} from '../controllers/UsersController'\r\n\r\n//ENDPOINTS\r\nroutes.post('/register', register);\r\nroutes.post('/login', login);\r\nroutes.post('/me', Auth, me);\r\n\r\n\r\n\r\n\r\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes/users.js","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 27\n// module chunks = 0","/**\r\n *          .::HASH MODEL::.\r\n * User's password hashes model\r\n * \r\n */\r\n\r\nvar hashSchema = mongoose.Schema({\r\n\r\n    user: {\r\n        type: mongoose.SchemaTypes.ObjectId,\r\n        ref: \"User\"\r\n    },\r\n    hash: String,\r\n});\r\n\r\nhashSchema.plugin(mongooseTimestamp)\r\n\r\n//HASHING PASSWORD\r\nasync function doHash(next) {\r\n    try {\r\n        var password = this.getUpdate().$set.hash;\r\n        this.getUpdate().$set.hash = await bcrypt.hash(password, 10);\r\n        next();\r\n    } catch (e) {\r\n        next(e);\r\n    }\r\n}\r\nhashSchema.pre('update', doHash)\r\nhashSchema.pre('findOneAndUpdate', doHash)\r\n\r\n\r\nexport default mongoose.model('Hash', hashSchema);\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/sensitive/Hash.js","/**\r\n *          .::USER CONTROLLER::.\r\n * All related operations to User belong here. \r\n * \r\n */\r\nimport User from '../models/User';\r\nimport tokenize from '../middlewares/Token'\r\n  \r\n\r\n\r\n/*          POST /api/users/register            */\r\nexport let register = async(req, res, next) => {\r\n    //REQUEST VALIDATION\r\n    if (!req.validate([\"username\", \"password\"])) return;\r\n\r\n    var {\r\n        fName,\r\n        lName,\r\n        username,\r\n        password\r\n    } = req.body;\r\n    //CHECK IF USER ALREADY EXISTS\r\n    if(await User.findOne({username})) return res.validSend(409,{error:\"username already exists.\"});\r\n    //CREATING NEW USER OBJECT\r\n    var newUser = new User({\r\n        fName,\r\n        lName,\r\n        username,\r\n        password\r\n    });\r\n    try {\r\n        //SAVING USER\r\n        var savedUser = await newUser.save();\r\n        //GENERATING TOKEN\r\n        var token = await tokenize(savedUser._id);\r\n\r\n        //OK RESPONSE\r\n        res.validSend(200, {\r\n            registered: true,\r\n            message: \"User has been registered successfully.\",\r\n            token: token\r\n        });\r\n    } catch (e) {\r\n        //FAILURE RESPONSE\r\n        res.validSend(500, {\r\n            error: JSON.stringify(e)\r\n        });\r\n    }\r\n\r\n}\r\n/*          POST /api/users/login            */\r\nexport let login = async(req, res, next) => {\r\n    //REQUEST VALIDATION    \r\n    if (!req.validate([\"username\", \"password\"])) return;\r\n\r\n    var {\r\n        username,\r\n        password\r\n    } = req.body;\r\n    try {\r\n        //FINDING USER\r\n        var user = await User.findOne({\r\n            username\r\n        });\r\n        //AUTHENTICATING USER\r\n        var authenticated = await User.authorize({\r\n            _id: user._id,\r\n            password\r\n        });\r\n\r\n        //GENERATING TOKEN\r\n        if (authenticated)\r\n            var token = await tokenize(user._id);\r\n\r\n        //OK RESPONSE\r\n        res.validSend(200, {\r\n            authenticated,\r\n            token\r\n        })\r\n    } catch (e) {\r\n        //FAILURE RESPONSE\r\n        res.validSend(500, {\r\n            error: JSON.stringify(e)\r\n        })\r\n    }\r\n}\r\n/*          POST /api/users/me            */\r\nexport let me = async(req, res) => {\r\n    //OK RESPONSE\r\n    res.validSend(200, req.user);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/controllers/UsersController.js","/**\n *          .::SWITCH ROUTES::.\n * All Switch's apis are routed here.\n * \n */\nconst routes = express.Router();\n\nimport Auth from '../middlewares/Auth';\nimport { newSwitch ,allSwitches,allSwitchesNames} from '../controllers/SwitchesController'\n\n\n//ENDPOINTS\nroutes.post('/new',Auth, newSwitch);\nroutes.post('/all',Auth, allSwitches);\nroutes.post('/all/names',Auth, allSwitchesNames);\n\n\n\n\n\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes/switches.js","import Switch from '../models/Switch'\n\n/*          POST /api/switches/new            */\nexport let newSwitch=async(req,res)=>{\n    if(!req.validate([\"name\",\"model\"]))return;\n    var {name,ip,description,model,diagramUrl,location}=req.body;\n    try{\n        var sw=new Switch({name,ip,description,model,diagramUrl,location});\n        var savedSW=await sw.save();\n        return res.validSend(200,{switch:savedSW});\n\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n\n}\n\n/*          POST /api/switches/all            */\nexport let allSwitches=async(req,res)=>{\n    try{\n        var swList= await Switch.find({})\n        .populate({path:\"location\",select:\"name\"});\n        var data=[];\n        swList.map(n=>{\n            data.push({\n                name:n.name,\n  ip:n.ip,\n  description:n.description,\n  model:n.model, \n  diagramUrl:n.diagramUrl,\n  location:n.location.name,\n  \n            })\n        })\n\n        var finalResult={columns:{\n            name:\"نام\",\n            ip:\"آدرس\",\n            description:\"توضیحات\",\n            model:\"مدل\", \n            diagramUrl:\"نمودار\",\n            location:\"مکان\",\n          \n        },\n        switchesData:data\n    }\n        \n        return res.validSend(200,{switches:finalResult});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n/*          POST /api/switches/all/name            */\nexport let allSwitchesNames=async(req,res)=>{\n    try{\n        var switches= await Switch.find({}).select({name:1}).lean();\n        return res.validSend(200,{switches});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/controllers/SwitchesController.js","\r\nvar switchSchema = mongoose.Schema({\r\n  name:{type:'string'},\r\n  ip:{type:'string'},\r\n  description:{type:'string'},\r\n  model:{type:'string'}, \r\n  diagramUrl:{type:'string'},\r\n  location:{type:mongoose.SchemaTypes.ObjectId,ref:'Location'},\r\n\r\n\r\n});\r\nswitchSchema.plugin(mongooseTimestamp);\r\n\r\nexport default mongoose.model('Switch',switchSchema);\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/Switch.js","/**\n *          .::DEVICE ROUTES::.\n * All Device's apis are routed here.\n * \n */\nconst routes = express.Router();\n\nimport Auth from '../middlewares/Auth';\nimport { newDevice ,allDevices,allDevicesNames} from '../controllers/DeviceController'\n\n\n//ENDPOINTS\nroutes.post('/new',Auth, newDevice);\nroutes.post('/all',Auth, allDevices);\nroutes.post('/all/names',Auth, allDevicesNames);\n\n\n\n\n\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes/devices.js","import Device from '../models/Device'\n\n/*          POST /api/devices/new            */\nexport let newDevice=async(req,res)=>{\n    if(!req.validate([\"name\",\"model\"]))return;\n    var {name,ip,description,deviceType,model,vlan,location,managementUrl,password,channel}=req.body;\n    try{\n        var dev=new Device({name,ip,description,deviceType,model,vlan,location,managementUrl,password,channel});\n        var savedDevice=await dev.save();\n        return res.validSend(200,{device:savedDevice});\n\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n\n}\n\n/*          POST /api/devices/all            */\nexport let allDevices=async(req,res)=>{\n    try{\n        var devList= await Device.find({},{name:1});\n        return res.validSend(200,{devices:devList});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n/*          POST /api/devices/all/name            */\nexport let allDevicesNames=async(req,res)=>{\n    try{\n        var devices= await Device.find({}).select({name:1}).lean();\n        return res.validSend(200,{devices});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/controllers/DeviceController.js","\nvar deviceSchema = mongoose.Schema({\n  name:{type:'string'},\n  ip:{type:'string'},\n  description:{type:'string'},\n  deviceType:{type:mongoose.SchemaTypes.ObjectId,ref:'type'},\n  model:{type:'string'}, \n  vlan:{ type:mongoose.SchemaTypes.ObjectId, ref:\"Vlan\"},\n\n  location:{type:mongoose.SchemaTypes.ObjectId,ref:'Location'},\n  managementUrl:{type:'string'},\n \n  //wifi:\n  password:{type:'string'},\n  channel:{type:'string'},\n\n  //todo: add pc config \n\n});\ndeviceSchema.plugin(mongooseTimestamp);\n\nexport default mongoose.model('Device',deviceSchema);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/Device.js","/**\n *          .::DEVICE ROUTES::.\n * All Device's apis are routed here.\n * \n */\nconst routes=express.Router();\n\nimport Auth from '../middlewares/Auth';\nimport {newLocation,allLocations,allLocationsNames} from '../controllers/LocationController';\n\n//ENDPOINTS\nroutes.post('/new',Auth,newLocation);\nroutes.post('/all',Auth,allLocations);\nroutes.post('/all/names',Auth,allLocationsNames);\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes/locations.js","import Location from '../models/Location'\n\n/*      POST /api/locations/new     */\nexport let newLocation=async(req,res)=>{\n    if(!req.validate([\"name\"])) return;\n    var {name,description}=req.body;\n    try{\n        var loc=new Location({name,description});\n        var savedLocation=await loc.save();\n        return res.validSend(200,{location:savedLocation})\n\n    }\n    catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n/*      POST    /api/locations/all      */\nexport let allLocations=async(req,res)=>{\n    try{\n        var locList=await Location.find({});\n        return res.validSend(200,{locations:locList})\n    }\n    catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n/*          POST /api/locations/all/name            */\nexport let allLocationsNames=async(req,res)=>{\n    try{\n        var locations= await Location.find({}).select({name:1}).lean();\n        return res.validSend(200,{locations});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/controllers/LocationController.js","var locationSchema=mongoose.Schema({\n    name:{type:'string'},\n    description:{type:'string'}\n});\nlocationSchema.plugin(mongooseTimestamp);\nexport default mongoose.model('Location',locationSchema);\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/Location.js","/**\n *          .::DEVICE ROUTES::.\n * All Device's apis are routed here.\n * \n */\nconst routes=express.Router();\n\nimport Auth from '../middlewares/Auth';\nimport {newNetNode,allNetNodes} from '../controllers/netNodeController';\n\n//ENDPOINTS\nroutes.post('/new',Auth,newNetNode);\nroutes.post('/all',Auth,allNetNodes);\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes/netNodes.js","import NetNode from '../models/NetNode'\n\n/*          POST /api/netnodes/new            */\nexport let newNetNode=async(req,res)=>{\n    if(!req.validate([\"patchPanelPort\"]))return;\n    var {patchPanelPort,cableNumber,switchId,switchPort,vlan,device,location,description,location}=req.body;\n    try{\n        var nNode=new NetNode({patchPanelPort,cableNumber,switchId,switchPort,vlan,device,location,description,location});\n        var netNode=await nNode.save();\n        return res.validSend(200,{netNode});\n\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n\n}\n\n/*          POST /api/netnodes/all            */\nexport let allNetNodes=async(req,res)=>{\n    try{\n        var netNodes= await NetNode.find({},{_id:0}).\n        populate({path:\"switchId\",select:\"name\"})\n        .populate({path:\"vlan\",select:\"name\"})\n        .populate({path:\"device\",select:\"name\"})\n        .populate({path:\"location\",select:\"name\"});\n        // console.plain(netNodes)\n        var data=[]\n        netNodes.map(n=>{\n            console.plain(\"n: \",n)\n            data.push({  \n                location:n.location.name,\n                switch:n.switchId.name,\n                switchPort:n.switchPort,\n                cableNumber:n.cableNumber,\n                patchPanelPort:n.patchPanelPort,\n                vlan:n.vlan.name,\n                device:n.device.name\n            })\n            \n        })\n\n        var finalResult={columns:{\n            location: \"مکان\",\n            switch: \"سوییچ\",\n            switchPort: \"شماره پورت سوییچ\",\n            cableNumber: \"شماره کابل\",\n            patchPanelPort: \"شماره patch panel\",\n            vlan:\"شبکه مجازی\",\n            device:\"نوع\"\n          },\n        netNodesData:data\n          }\n        return res.validSend(200,{netNodes:finalResult});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/controllers/netNodeController.js","\nvar netNodeSchema=mongoose.Schema({\n    patchPanelPort:{type:'string'},\n    cableNumber:{type:'string'},\n    // switchName:{}\n    switchId:{type:mongoose.SchemaTypes.ObjectId,ref:'Switch'},\n    switchPort:{type:'string'},\n    vlan:{type:mongoose.SchemaTypes.ObjectId,ref:'Vlan'},\n    device:{type:mongoose.SchemaTypes.ObjectId,ref:'Device'}, //wifi,pc,inrow, accsess door, camera,server,pc ... \n    description:{type:'string'},\n    location:{type:mongoose.SchemaTypes.ObjectId,ref:'Location'},\n\n})\nnetNodeSchema.plugin(mongooseTimestamp);\n\nexport default mongoose.model('NetNode',netNodeSchema)\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/NetNode.js","/**\n *          .::DEVICE ROUTES::.\n * All Device's apis are routed here.\n * \n */\nconst routes=express.Router();\n\nimport Auth from '../middlewares/Auth';\nimport {newVlan,allVlans,allVlansNames} from '../controllers/vlanController';\n\n//ENDPOINTS\nroutes.post('/new',Auth,newVlan);\nroutes.post('/all',Auth,allVlans);\nroutes.post('/all/names',Auth,allVlansNames);\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes/vlans.js","import vlan from '../models/Vlan'\n\n/*          POST /api/vlans/new            */\nexport let newVlan=async(req,res)=>{\n    if(!req.validate([\"number\"]))return;\n    var {number,name,ip,description,firstIp,lastIp,subnetMask}=req.body;\n    try{\n        var virtualLan=new vlan({number,name,ip,description,firstIp,lastIp,subnetMask});\n        var VLAN=await virtualLan.save();\n        return res.validSend(200,{vlan:VLAN});\n\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n\n}\n\n/*          POST /api/vlans/all            */\nexport let allVlans=async(req,res)=>{\n    try{\n        var vlans= await vlan.find({});\n        return res.validSend(200,{vlans});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n\n\n/*          POST /api/vlans/all/name            */\nexport let allVlansNames=async(req,res)=>{\n    try{\n        var vlans= await vlan.find({}).select({name:1}).lean();\n        return res.validSend(200,{vlans});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/controllers/vlanController.js","\r\nvar vlanSchema = mongoose.Schema({\r\n  number:{type:'string'},\r\n  name:{type:'string'},\r\n  ip:{type:'string'},\r\n  description:{type:'string'},\r\n  firstIp:{type:'string'}, \r\n  lastIp:{type:'string'}, \r\n  subnetMask:{type:'string'}, \r\n});\r\nvlanSchema.plugin(mongooseTimestamp);\r\n\r\nexport default mongoose.model('Vlan',vlanSchema);\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/Vlan.js","/**\n *          .::DEVICE ROUTES::.\n * All Device's apis are routed here.\n * \n */\nconst routes = express.Router();\n\nimport Auth from '../middlewares/Auth';\nimport { newDeviceType ,allDeviceTypes,allDeviceTypesNames} from '../controllers/DeviceTypeController'\n\n\n//ENDPOINTS\nroutes.post('/new',Auth, newDeviceType);\nroutes.post('/all',Auth, allDeviceTypes);\nroutes.post('/all/names',Auth, allDeviceTypesNames);\n\n\n\n\n\n\nexport default routes;\n\n\n// WEBPACK FOOTER //\n// ./src/app/routes/deviceTypes.js","import DeviceType from '../models/DeviceType'\n\n/*          POST /api/devicetypes/new            */\nexport let newDeviceType=async(req,res)=>{\n    if(!req.validate([\"name\"]))return;\n    var {name,description}=req.body;\n    try{\n        var type=new DeviceType({type,description});\n        var savedDeviceType=await type.save();\n        return res.validSend(200,{type:savedDeviceType});\n\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n\n}\n\n/*          POST /api/devicetypes/all            */\nexport let allDeviceTypes=async(req,res)=>{\n    try{\n        var typeList= await DeviceType.find({});\n        return res.validSend(200,{types:typeList});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n/*          POST /api/devicetypes/all/name            */\nexport let allDeviceTypesNames=async(req,res)=>{\n    try{\n        var deviceTypes= await DeviceType.find({}).select({name:1}).lean();\n        return res.validSend(200,{deviceTypes});\n    }catch(e){\n        console.error(e);\n        return res.validSend(500,{error:e});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/controllers/DeviceTypeController.js","\nvar deviceTypeSchema = mongoose.Schema({\n  name:{type:'string'}, //0:storage  , 1:wifi  , 2:inrow , 3:accsess door  , 4:camera  , 5:server\n  description:{type:'string'},\n});\ndeviceTypeSchema.plugin(mongooseTimestamp);\n\nexport default mongoose.model('DeviceType',deviceTypeSchema);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/DeviceType.js","/**\r\n *          .::CORS::.\r\n * Cross-Origin Resource Sharing configuration\r\n * \r\n */\r\nexport default function CORS(req, res, next) {\r\n  res.header('Access-Control-Allow-Origin', '*');\r\n  res.header('Access-Control-Allow-Methods', 'PUT, GET, HEAD, POST, DELETE, OPTIONS');\r\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, X-Api-Token, Content-Type, Accept, Authorization, Access-Control-Allow-Credentials,x-access-token');\r\n  res.header('Access-Control-Allow-Credentials', 'true');\r\n  next();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/middlewares/CORS.js","/**\r\n *          .::EXPRESS PLUGINS::.\r\n * Express plugins and all adding data to req and res are here.\r\n * \r\n */\r\nimport isValid from './isValid';\r\nexport default (req, res, next)=> {\r\n\tvalidators(req,res);\r\n\r\n\tnext();\r\n}\r\n//ADDING REQUEST AND RESPONSE VALIDATORS TO REQUEST\r\nlet validators=(req,res)=>{\r\n\tres.validSend=isValid.res;\r\n\treq.res=res;\r\n\treq.validate=isValid.req;\r\n\t\r\n\t\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/middlewares/ExpressPlugins.js","/**\r\n *          .::VALIDATION::.\r\n * All validation operations belong here.\r\n *\r\n */\r\n\r\n/**\r\n * Returns a json object that has `foundKeys` and `notFoundKeys`\r\n * @param {*} object\r\n * @param {*[]} keys keys to find in `object`\r\n */\r\nlet findKeys = (object, keys) => {\r\n  var foundKeys = [];\r\n  var notFoundKeys = [];\r\n  keys.forEach(key => {\r\n    notFoundKeys.push(key);\r\n    _.mapKeys(object, (objectValue, objectKey) => {\r\n      if (key == objectKey) {\r\n        if (object[key] && object[key] != null && object[key] != \"\") {\r\n          foundKeys.push(key);\r\n          notFoundKeys.pop();\r\n        }\r\n      }\r\n    });\r\n  });\r\n  return {\r\n    foundKeys,\r\n    notFoundKeys\r\n  };\r\n};\r\nlet deepOmit = (object, keys) => {\r\n  try {\r\n    if (object._doc) object = object._doc;\r\n\r\n    let mapper = o => {\r\n      if (Object.keys(o).length > 0) var level = deepOmit(o, keys);\r\n      else var level = o;\r\n      return level;\r\n    };\r\n    keys.map(okey => {\r\n      _.mapKeys(object, (v, k) => {\r\n        if (okey == k) delete object[k];\r\n      });\r\n    });\r\n    var newObject;\r\n    if (object.length) return object.map(mapper);\r\n    else {\r\n      Object.keys(object).map(key => {\r\n        object[key] = mapper(object[key]);\r\n      });\r\n      return object;\r\n    }\r\n  } catch (e) {\r\n    return object;\r\n  }\r\n};\r\n/**\r\n * request validation\r\n * @param requiredKeys {string[]} Keys that are required in req.body\r\n * @param forbiddenKeys {string[]} Keys that are not allowed to be in req.body\r\n *\r\n */\r\nexport function req(requiredKeys, forbiddenKeys) {\r\n  var req = this;\r\n  var { res } = req;\r\n  var { body } = req;\r\n  if (!requiredKeys) requiredKeys = [];\r\n  if (!forbiddenKeys) forbiddenKeys = [];\r\n\r\n  var missedKeys = findKeys(body, requiredKeys).notFoundKeys;\r\n  var notAllowedKeys = findKeys(body, forbiddenKeys).foundKeys;\r\n\r\n  var error = \"\";\r\n  if (missedKeys.length > 0)\r\n    error =\r\n      \"The following keys are required in request body:\\n \" +\r\n      _.join(missedKeys, \" , \") +\r\n      \"\\n\";\r\n  if (forbiddenKeys.length > 0)\r\n    error =\r\n      \"The following keys are forbidden in request body:\\n\" +\r\n      _.join(forbiddenKeys, \" , \") +\r\n      \"\\n\";\r\n\r\n  if (error == \"\") return true;\r\n  res.validSend(400, {\r\n    error\r\n  });\r\n  return false;\r\n}\r\n/**\r\n *\r\n * @param {number} status http status code\r\n * @param {*} body response body\r\n * @param {string[]} omitKeys Optional - keys to omit from response body\r\n */\r\nexport function res(status, body, omitKeys) {\r\n  if (!status) status = 200;\r\n  if (body)\r\n    if (validator.isJSON(JSON.stringify(body))) {\r\n      if (body._doc) body = body._doc;\r\n\r\n      var defaultOmitKeys = [\"__v\"];\r\n      if (!omitKeys || omitKeys.length <= 0) omitKeys = defaultOmitKeys;\r\n      body = deepOmit(body, omitKeys);\r\n    }\r\n  if (status == 200) console.ok(\"RESPONSE > \", 200, \" : \", body);\r\n  else console.error(\"RESPONSE > \", status, \" : \", body);\r\n  return this.status(status).json(body);\r\n}\r\n\r\nexport default {\r\n  req,\r\n  res\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/middlewares/isValid.js"],"sourceRoot":""}